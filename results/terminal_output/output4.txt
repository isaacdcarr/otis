Thu 10 Oct 2019 11:47:01 AEDT
Using TensorFlow backend.
== Starting Otis ==
... obtaining normal train data
... ... Processed 1342 images
... obtaining pneumonia train data
... ... Processed 3876 images
... obtaining normal test data
... ... Processed 234 images
... obtaining pneumonia tests data
... ... Processed 390 images
... obtaining val train data
... ... Processed 9 images
... obtaining pneumonia val data
... ... Processed 9 images
... define model
WARNING:tensorflow:From /Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/keras/backend/tensorflow_backend.py:4070: The name tf.nn.max_pool is deprecated. Please use tf.nn.max_pool2d instead.

Model: "sequential_1"
_________________________________________________________________
Layer (type)                 Output Shape              Param #
=================================================================
conv2d_1 (Conv2D)            (None, 224, 224, 32)      832
_________________________________________________________________
max_pooling2d_1 (MaxPooling2 (None, 112, 112, 32)      0
_________________________________________________________________
conv2d_2 (Conv2D)            (None, 112, 112, 6)       4806
_________________________________________________________________
max_pooling2d_2 (MaxPooling2 (None, 56, 56, 6)         0
_________________________________________________________________
flatten_1 (Flatten)          (None, 18816)             0
_________________________________________________________________
dense_1 (Dense)              (None, 1024)              19268608
_________________________________________________________________
dense_2 (Dense)              (None, 2)                 2050
=================================================================
Total params: 19,276,296
Trainable params: 19,276,296
Non-trainable params: 0
_________________________________________________________________
None
... fit model
2019-10-10 11:48:08.566183: I tensorflow/core/platform/cpu_feature_guard.cc:142] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 FMA
WARNING:tensorflow:From /Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/keras/backend/tensorflow_backend.py:422: The name tf.global_variables is deprecated. Please use tf.compat.v1.global_variables instead.

Train on 5216 samples, validate on 624 samples
Epoch 1/2
5216/5216 [==============================] - 269s 52ms/step - loss: 17.2542 - accuracy: 0.8326 - val_loss: 0.7889 - val_accuracy: 0.7724
Epoch 2/2
5216/5216 [==============================] - 251s 48ms/step - loss: 0.2600 - accuracy: 0.8959 - val_loss: 0.7146 - val_accuracy: 0.7436
couldn't save history
objc[18429]: Class FIFinderSyncExtensionHost is implemented in both /System/Library/PrivateFrameworks/FinderKit.framework/FinderKit (0x144daf1d0) and /System/Library/PrivateFrameworks/FileProvider.framework/OverrideBundles/FinderSyncCollaborationFileProviderOverride.bundle/Contents/MacOS/FinderSyncCollaborationFileProviderOverride (0x164a57dc8). One of the two will be used. Which one is undefined.
Traceback (most recent call last):
  File "src/otis.py", line 186, in <module>
    main()
  File "src/otis.py", line 169, in main
    plt.savefig('model/img/acc.png')
  File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/matplotlib/pyplot.py", line 722, in savefig
    res = fig.savefig(*args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/matplotlib/figure.py", line 2180, in savefig
    self.canvas.print_figure(fname, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/matplotlib/backend_bases.py", line 2082, in print_figure
    **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/matplotlib/backends/backend_agg.py", line 530, in print_png
    cbook.open_file_cm(filename_or_obj, "wb") as fh:
  File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/contextlib.py", line 81, in __enter__
    return next(self.gen)
  File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/matplotlib/cbook/__init__.py", line 447, in open_file_cm
    fh, opened = to_filehandle(path_or_file, mode, True, encoding)
  File "/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/matplotlib/cbook/__init__.py", line 432, in to_filehandle
    fh = open(fname, flag, encoding=encoding)
FileNotFoundError: [Errno 2] No such file or directory: 'model/img/acc.png' 